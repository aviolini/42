#1 /bin/bash

make re && make clean && clear

rm -f my_outfile
rm -f test_outfile


./pipex . "lsi" "wc -l" outfile #2>>my_error
cat outfile >> my_outfile
rm outfile
< . lsi  | wc -l > outfile #2>>test_error
cat outfile >> test_outfile
rm outfile

./pipex . "./lsi" "wc -l" outfile #2>>my_error
cat outfile >> my_outfile
rm outfile
< . ./lsi  | wc -l > outfile #2>>test_error
cat outfile >> test_outfile
rm outfile

./pipex . "./lsx" "wc -l" outfile #2>>my_error
cat outfile >> my_outfile
rm outfile
< . ./lsx  | wc -l > outfile #2>>test_error
cat outfile >> test_outfile
rm outfile

./pipex infile "cat" "wc -l" outfile #2>>my_error
cat outfile >> my_outfile
rm outfile
< infile cat  | wc -l > outfile #2>>test_error
cat outfile >> test_outfile
rm outfile

./pipex infile "cat -s" "wc -l" outfile #2>>my_error
cat outfile >> my_outfile
rm outfile
<infile cat -s | wc -l > outfile #2>>test_error
cat outfile >> test_outfile
rm outfile

./pipex pipex.c "grep c" "wc -l" outfile #2>>my_error
cat outfile >> my_outfile
rm outfile
<pipex.c grep c | wc -l > outfile #2>>test_error
cat outfile >> test_outfile
rm outfile

./pipex pipex.c "grep p" "wc -l" outfile #2>>my_error
cat outfile >> my_outfile
rm outfile
<pipex.c grep p | wc -l > outfile #2>>test_error
cat outfile >> test_outfile
rm outfile

./pipex pipex.c "grexp p" "wc -l" outfile #2>>my_error
cat outfile >> my_outfile
rm outfile
<pipex.c grexp p | wc -l > outfile #2>>test_error
cat outfile >> test_outfile
rm outfile

diff my_outfile test_outfile

echo my_outfile:
cat my_outfile
echo test_outfile:
cat test_outfile
